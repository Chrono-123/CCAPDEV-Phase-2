<!DOCTYPE html>
    <!--This html page is used by both the lab technician and student to view the reservation list of lab 3. Incomplete-->
    <head>
            <div id="stickyBar">
                <h2>Laboratory Reservation</h2>
                <a href="Home.html">Home</a>
                <a href="Reservation.html">Reserve</a>
                <a href="Search.html">Search</a>
                <a href="Profile.html">Profile</a>
                <a href="main.html">Logout</a>
            </div>

            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <link rel="stylesheet" href="template.css">
        </head>
    <body>
        <div id = Seatlist>
            <p id = Seatdaylist><br></p>
            <p id = Seathourlist></p>
        </div>

        <script>
            let currentDate = new Date();
            const reservedSlotsString = localStorage.getItem('reservedSlots');//Retrieve from local storage
            const reservedSlots = JSON.parse(reservedSlotsString);//Parse to get value
            console.log(reservedSlots);
            console.log(reservedSlots[0].dateReserved.split("T"))
            for(var i = 0; i < 7; i++) {//Loop 7 times to view slot availability within 7 days
                if(i != 0) {
                    currentDate.setDate(currentDate.getDate() + 1);//Set the day to current day plus 1
                }

                document.querySelector("#Seatdaylist").textContent = currentDate;//Select p tag id Seatdaylist and set the text to currentDate
                const cloneSeatDayList = document.getElementById("Seatdaylist").cloneNode(true);//Clone p tag id Seatdaylist
                document.getElementById("Seatlist").append(cloneSeatDayList);//Append clone to the p tag id Seatlist
                console.log(currentDate);

                // for(var i = 0; i < 11; i++) { //Trying to make a loop that prints the time values available for each day
                //     var time = 800;
                //     // document.querySelector("#Seathourlist").textContent = time;
                //     // const cloneSeatHourList = document.getElementById("Seathourlist").cloneNode(true);
                //     // document.getElementById("Seatlist").append(cloneSeatHourList);
                //     // console.log(cloneSeatHourList);

                //     if(i != 0) {
                //         if(i % 2 == 1)
                //         {
                //                 time = time + 100 * (i - (i / 2)) - 20;
                //         }
                //         else
                //             time = time + 100 * (i - (i / 2));
                //     }
                    
                //     document.querySelector("#Seathourlist").textContent = time;
                //     const cloneSeatHourList = document.getElementById("Seathourlist").cloneNode(true);
                //     document.getElementById("Seatlist").append(cloneSeatHourList);
                //     console.log(cloneSeatHourList);
                // }
            }

            

            // for(var i = 0; i < reservedSlots.length; i++) { //Trying to match time values saved in local storage with given time to mark as reserved
            //     const reservedSlotsString = localStorage.getItem('reservedSlots');
            //     const reservedSlots = JSON.parse(reservedSlotsString);
            //     const tempReserved = reservedSlots[i].dateReserved.split("T");
            //     console.log("length = ", reservedSlots.length)
            //     console.log(tempReserved[1]);


            //     document.querySelector("#Seathourlist").textContent = reserved;
            //     const cloneSeatHourList = document.getElementById("Seathourlist").cloneNode(true);
            //     document.getElementById("Seatlist").append(cloneSeatHourList);
            //     console.log(cloneSeatHourList);
            // }
            document.getElementById("Seatdaylist").innerHTML = "";//Set non-clone values to blank to not duplicate
            document.getElementById("Seathourlist").innerHTML = "";//Set non-clone values to blank to not duplicate
        </script>
    </body>
</html>
