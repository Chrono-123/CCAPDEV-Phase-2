<html>
    <!--This html page is the temporary profile page for user searching-->
    <title>Profile</title>

    <head>
        <div id="stickyBar">
            <h2 style="margin-left: 10px;padding-right: 227px;height: 68.425;width: 200px;">Laboratory Reservation</h2>
            <a href="Home.html">Home</a>
            <a href="Reservation.html">Reserve</a>
            <a href="Search.html">Search</a>
            <a href="Profile.html">Profile</a>
            <a href="main.html">Logout</a>
        </div>

        <!-- <script src="jquery-3.7.1.min.js"></script> -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <link rel="stylesheet" href="template.css">
    </head>

    <body>
        <h1><b>Profile</b></h1>

        <div>
            <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png" id="profilePic" onClick="ChangePic()"><br>
        </div>

        <div class="resizeSlightlySmaller">
            <div id=profile>
                <br>Name:  <input type="text" id="profileName" class="resizeSlightlySmaller"> <button type="button" id="editName" class="resizeSlightlySmaller" onClick="EditName()">Edit</button><br>
            </div>

            <div id=bday>
                <br>Birthday:  <input type="date" id="profileBday" class="resizeSlightlySmaller"> <button type="button" id="editDob" class="resizeSlightlySmaller" onClick="EditDob()">Edit</button><br>
            </div>

            <div id="uName">
               <br> Username:  <input type="text" id="profileUname" class="resizeSlightlySmaller"> <button type="button" id="editUserName" class="resizeSlightlySmaller" onClick="EditUserName()">Edit</button><br>
            </div>

            <div id="password">
                <br>Password:  <input type="password" id="profilePassword" class="resizeSlightlySmaller"> <button type="button" id="editPassword" class="resizeSlightlySmaller" onClick="EditPassword()">Edit</button><br>
            </div>

            <table id="reserveTable" class="resizeSlightlySmaller">
                <tr>
                    <th>Lab Number</th>
                    <th>Number Reserved</th>
                    <th>Date to be Reserved</th>
                </tr>
            </table>
        </div>
    
        <script>
            const temporaryUserProfileNameString = localStorage.getItem('temporaryUserProfileName');//Retrieve from local storage
            const temporaryUserBirthdayString = localStorage.getItem('temporaryUserBirthday');//Retrieve from local storage
            const temporaryUserUserNameString = localStorage.getItem('temporaryUserUserName');//Retrieve from local storage
            const temporaryUserPasswordString = localStorage.getItem('temporaryUserPassword');//Retrieve from local storage
            const temporaryUserProfileName = JSON.parse(temporaryUserProfileNameString);//Parse to get value
            const temporaryUserBirthday = JSON.parse(temporaryUserBirthdayString);//Parse to get value
            const temporaryUserUserName = JSON.parse(temporaryUserUserNameString);//Parse to get value
            const temporaryUserPassword = JSON.parse(temporaryUserPasswordString);//Parse to get value
            console.log(temporaryUserProfileName);
            
            document.getElementById("profileName").value = temporaryUserProfileName;//Set profileName to currentUserProfileName
            document.getElementById("profileBday").value = temporaryUserBirthday;//Set profileBday to currentUserBirthday
            document.getElementById("profileUname").value = temporaryUserUserName;//Set profileUname to currentUserUserName
            document.getElementById("profilePassword").value = temporaryUserPassword;//Set profilePassword to currentUserPassword

            // const btnEditName = document.getElementById("profile");
            // const btnEditBday = document.getElementById("bday");
            // const btnEditUname = document.getElementById("uName");
            // const btnEditPassword = document.getElementById("password");
            // var currentName, currentDob, currentUserName, currentPassword;
            document.getElementById("profileName").readOnly=true;
            document.getElementById("profileBday").readOnly=true;
            document.getElementById("profileUname").readOnly=true;
            document.getElementById("profilePassword").readOnly=true;
            const lab = [2,1,2,3,1];
            const numberOfReserve = [4,2,3,2,9];
            const date = ["12/11/23", "12/10/23", "11/20/23", "10/10/23", "09/10/23"];

            for (var i=0; i < 5; i++) {
                $("#reserveTable").append("<tr><td>"+lab[i]+"</td><td>"+numberOfReserve[i]+"</td><td>"+date[i]+"</td>");
            }
        </script>
    </body>
</html>
